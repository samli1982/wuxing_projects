# å¹²æ”¯çºªå¹´å†é¡¹ç›®æ¦‚è§ˆ

## ğŸ¯ é¡¹ç›®ç›®æ ‡

ä½¿ç”¨ **tyme4j** åº“å®ç°å®Œæ•´çš„å¹²æ”¯çºªå¹´å†ç³»ç»Ÿï¼Œæä¾›ç²¾ç¡®çš„å†æ³•è®¡ç®—åŠŸèƒ½ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1ï¸âƒ£ å¹²æ”¯çºªå¹´è®¡ç®—
- è¾“å…¥: å…¬å†æ—¥æœŸ (YYYY-MM-DD)
- è¾“å‡º: å¹²æ”¯å¹´æœˆæ—¥ (å¦‚ï¼šä¹™å·³å¹´ ä¸äº¥æœˆ æˆŠæˆŒæ—¥)

### 2ï¸âƒ£ çº³éŸ³äº”è¡Œ
- å¹´çº³éŸ³ (å¦‚ï¼šå¹³åœ°æœ¨)
- æœˆçº³éŸ³ (å¦‚ï¼šå±‹ä¸ŠåœŸ)
- æ—¥çº³éŸ³ (å¦‚ï¼šå¹³åœ°æœ¨)  
- æ—¶çº³éŸ³ (å¦‚ï¼šå¤©æ²³æ°´)

### 3ï¸âƒ£ å»ºé™¤åäºŒå€¼ç¥
- å»ºã€é™¤ã€æ»¡ã€å¹³ã€å®šã€æ‰§ã€ç ´ã€å±ã€æˆã€æ”¶ã€å¼€ã€é—­
- é€šè¿‡ `SixtyCycleDay.getDuty()` è‡ªåŠ¨è®¡ç®—

### 4ï¸âƒ£ é»„é“é»‘é“åäºŒç¥
- å‰å‡¶åˆ¤æ–­
- é€šè¿‡ `SixtyCycleDay.getTwelveStar()` è‡ªåŠ¨è®¡ç®—

### 5ï¸âƒ£ äºŒåå…«æ˜Ÿå®¿
- å®¤ã€å£ã€å¥ã€å¨„ã€èƒƒã€æ˜´ã€æ¯•ã€è§œã€å‚ã€äº•ã€é¬¼ã€æŸ³ã€æ˜Ÿã€å¼ ã€ç¿¼ã€è½¸...
- é€šè¿‡ `SixtyCycleDay.getTwentyEightStar()` è‡ªåŠ¨è®¡ç®—

### 6ï¸âƒ£ å†œå†è½¬æ¢
- å…¬å† â†” å†œå†ç›¸äº’è½¬æ¢
- ç”Ÿè‚–è¯†åˆ«

### 7ï¸âƒ£ èŠ‚æ°”è®¡ç®—
- 24èŠ‚æ°”ç²¾ç¡®è®¡ç®—
- å…»ç”Ÿå»ºè®®è‡ªåŠ¨ç”Ÿæˆ

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚  tyme4j-master (ä¸“ä¸šå†æ³•è®¡ç®—åº“)                     â”‚
â”‚  â”œâ”€ SolarDay          å…¬å†æ—¥æœŸ                      â”‚
â”‚  â”œâ”€ SolarTime         å…¬å†æ—¶é—´                      â”‚
â”‚  â”œâ”€ SixtyCycleDay    å¹²æ”¯æ—¥æœŸï¼ˆæ ¸å¿ƒï¼‰               â”‚
â”‚  â”œâ”€ SixtyCycleHour   å¹²æ”¯æ—¶è¾°                       â”‚
â”‚  â”œâ”€ LunarDay         å†œå†æ—¥æœŸ                       â”‚
â”‚  â”œâ”€ SolarTerm        èŠ‚æ°”                           â”‚
â”‚  â””â”€ å…¶ä»–æ–‡åŒ–å±æ€§...                                 â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TymeCalendarUtils (å·¥å…·å±‚)                         â”‚
â”‚  â”œâ”€ SixtyCycleDayInfo   å¹²æ”¯æ—¥æœŸè¯¦ç»†ä¿¡æ¯            â”‚
â”‚  â”œâ”€ SixtyCycleInfo      å¹²æ”¯å†ä¿¡æ¯(å«çº³éŸ³)          â”‚
â”‚  â”œâ”€ LunarInfo           å†œå†ä¿¡æ¯                    â”‚
â”‚  â”œâ”€ SolarTermInfo       èŠ‚æ°”ä¿¡æ¯                    â”‚
â”‚  â””â”€ getSixtyCycleDayInfo()  æ ¸å¿ƒæ–¹æ³•                â”‚
â”‚     getSixtyCycleInfo()                             â”‚
â”‚     getLunarInfo()                                  â”‚
â”‚     getSolarTermInfo()                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EmperorCalendarService (æœåŠ¡å±‚)                    â”‚
â”‚  â”œâ”€ getYiJiInfo()            å®œå¿Œä¿¡æ¯              â”‚
â”‚  â”œâ”€ getDetailInfo()           è¯¦ç»†ä¿¡æ¯              â”‚
â”‚  â””â”€ getSixtyCycleDayInfo()    å¹²æ”¯æ—¥ä¿¡æ¯(æ–°å¢)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HomeController (æ§åˆ¶å±‚)                            â”‚
â”‚  â”œâ”€ /api/home/sixties-cycle       å¹²æ”¯å†ä¿¡æ¯        â”‚
â”‚  â”œâ”€ /api/home/lunar                å†œå†ä¿¡æ¯         â”‚
â”‚  â”œâ”€ /api/home/emperor-calendar/yi-ji   å®œå¿Œ(æ–°å¢) â”‚
â”‚  â”œâ”€ /api/home/emperor-calendar/detail  è¯¦ç»†(æ–°å¢) â”‚
â”‚  â””â”€ /api/home/emperor-calendar     å…¥å£ä¿¡æ¯(æ–°å¢)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‰ç«¯ (Vue.js + WeChat MiniProgram)                 â”‚
â”‚  â”œâ”€ å¹²æ”¯çºªå¹´å†é¡µé¢                                  â”‚
â”‚  â”œâ”€ å®œå¿Œå±•ç¤º                                        â”‚
â”‚  â”œâ”€ æ—¶è¾°å‰å‡¶                                        â”‚
â”‚  â”œâ”€ è¯¦ç»†ä¿¡æ¯                                        â”‚
â”‚  â””â”€ æ—¥æœŸå¯¼èˆª                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‚ æ–‡ä»¶ç»“æ„

```
backend/
â”œâ”€ src/main/java/com/wuxing/
â”‚  â”œâ”€ utils/
â”‚  â”‚  â””â”€ TymeCalendarUtils.java          (344è¡Œ) å·¥å…·ç±»
â”‚  â”œâ”€ service/
â”‚  â”‚  â””â”€ EmperorCalendarService.java     (236è¡Œ) æœåŠ¡ç±»
â”‚  â””â”€ controller/
â”‚     â””â”€ HomeController.java              APIç«¯ç‚¹
â”‚
tyme4j-master/                            tyme4jåº“
â”œâ”€ src/main/java/com/tyme/
â”‚  â”œâ”€ solar/                    å…¬å†ç›¸å…³
â”‚  â”œâ”€ lunar/                    å†œå†ç›¸å…³
â”‚  â”œâ”€ sixtycycle/               å¹²æ”¯ç›¸å…³(æ ¸å¿ƒ)
â”‚  â””â”€ culture/                  æ–‡åŒ–å±æ€§
â”‚
æ–‡æ¡£/
â”œâ”€ å¹²æ”¯çºªå¹´å†_tyme4j_å¼•ç”¨è¯´æ˜.md          (224è¡Œ)
â”œâ”€ å¹²æ”¯çºªå¹´å†_tyme4j_å¿«é€Ÿå‚è€ƒ.md          (223è¡Œ)
â”œâ”€ å¹²æ”¯çºªå¹´å†å®ç°_å®Œæˆæ€»ç»“.md             (237è¡Œ)
â””â”€ é¡¹ç›®æ¦‚è§ˆ.md                           (æœ¬æ–‡ä»¶)
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¼–è¯‘é¡¹ç›®
```bash
cd /Users/saml/GoProjects/src/wuxing_projects/backend
mvn clean compile -DskipTests
```

### 2. å¯åŠ¨åç«¯
```bash
./start-backend.sh
```

### 3. åœ¨ä»£ç ä¸­ä½¿ç”¨

#### è·å–å¹²æ”¯æ—¥æœŸè¯¦ç»†ä¿¡æ¯
```java
import java.time.LocalDate;
import com.wuxing.utils.TymeCalendarUtils;

LocalDate date = LocalDate.of(2025, 11, 25);
TymeCalendarUtils.SixtyCycleDayInfo dayInfo = 
    TymeCalendarUtils.getSixtyCycleDayInfo(date);

System.out.println("å¹²æ”¯æ—¥: " + dayInfo.day);        // æˆŠæˆŒ
System.out.println("æ—¥çº³éŸ³: " + dayInfo.daySound);    // å¹³åœ°æœ¨
System.out.println("å€¼ç¥: " + dayInfo.duty);          // é—­
System.out.println("åäºŒç¥: " + dayInfo.twelveStar); // å‰
System.out.println("æ˜Ÿå®¿: " + dayInfo.twentyEightStar); // å®¤ç«çŒª
```

#### è·å–å¹²æ”¯æ—¶è¾°åŠçº³éŸ³
```java
import java.time.LocalDateTime;

LocalDateTime dateTime = LocalDateTime.of(2025, 11, 25, 14, 30, 0);
TymeCalendarUtils.SixtyCycleInfo cycleInfo = 
    TymeCalendarUtils.getSixtyCycleInfo(dateTime);

System.out.println("å¹²æ”¯: " + cycleInfo.year + " " + 
                   cycleInfo.month + " " + cycleInfo.day);
System.out.println("æ—¶: " + cycleInfo.hour);
System.out.println("çº³éŸ³: " + cycleInfo.yearSound + " " + 
                   cycleInfo.monthSound + " " + 
                   cycleInfo.daySound + " " + 
                   cycleInfo.hourSound);
```

## ğŸ”‘ å…³é”®ç±»è¯´æ˜

### tyme4j æ ¸å¿ƒç±»

| ç±»å | è¯´æ˜ | ä¸»è¦æ–¹æ³• |
|------|------|---------|
| `SolarDay` | å…¬å†æ—¥ | `fromYmd()`, `getLunarDay()`, `getTerm()` |
| `SolarTime` | å…¬å†æ—¶é—´ | `fromYmdHms()`, `getSixtyCycleHour()` |
| `SixtyCycleDay` | **å¹²æ”¯æ—¥æœŸ**â­ | `getYear()`, `getMonth()`, `getSixtyCycle()`, `getDuty()`, `getTwelveStar()`, `getTwentyEightStar()` |
| `SixtyCycleHour` | å¹²æ”¯æ—¶è¾° | `getYear()`, `getMonth()`, `getDay()`, `getSixtyCycle()` |
| `SixtyCycle` | å¹²æ”¯ | `getHeavenStem()`, `getEarthBranch()`, `getSound()` |
| `HeavenStem` | å¤©å¹² | `getName()`, `getIndex()`, `getElement()` |
| `EarthBranch` | åœ°æ”¯ | `getName()`, `getIndex()`, `getZodiac()` |
| `LunarDay` | å†œå†æ—¥ | `getLunarMonth()`, `getName()` |
| `LunarYear` | å†œå†å¹´ | `getSixtyCycle()` |
| `SolarTerm` | èŠ‚æ°” | `getName()`, `getSolarDay()` |
| `Zodiac` | ç”Ÿè‚– | `fromIndex()`, `getName()` |

### é¡¹ç›®å†…éƒ¨ç±»

| ç±»å | è¯´æ˜ | å­—æ®µ |
|------|------|------|
| `SixtyCycleDayInfo` | å¹²æ”¯æ—¥æœŸè¯¦ç»†ä¿¡æ¯ | solarDate, year, month, day, daySound, duty, twelveStar, twentyEightStar |
| `SixtyCycleInfo` | å¹²æ”¯å†ä¿¡æ¯(å«çº³éŸ³) | solarDate, solarTime, year, month, day, hour, yearSound, monthSound, daySound, hourSound |
| `LunarInfo` | å†œå†ä¿¡æ¯ | lunarYear, lunarMonth, lunarDay, lunarDate, chineseZodiac, stem, branch, nayin |
| `SolarTermInfo` | èŠ‚æ°”ä¿¡æ¯ | name, month, day, dayIndex, description, healthAdvice |

## ğŸ“Š æ•°æ®æµç¤ºä¾‹

### å…¬å†æ—¥æœŸ â†’ å¹²æ”¯ä¿¡æ¯å®Œæ•´æµç¨‹

```
è¾“å…¥: LocalDate(2025-11-25)
  â†“
SolarDay.fromYmd(2025, 11, 25)
  â†“
new SixtyCycleDay(solarDay) â† è‡ªåŠ¨è®¡ç®—å¹²æ”¯
  â†“
æå–ä¿¡æ¯:
  â”œâ”€ getYear() â†’ SixtyCycle â†’ ä¹™å·³å¹´
  â”œâ”€ getMonth() â†’ SixtyCycle â†’ ä¸äº¥æœˆ
  â”œâ”€ getSixtyCycle() â†’ SixtyCycle â†’ æˆŠæˆŒæ—¥
  â”œâ”€ getSound() â†’ çº³éŸ³äº”è¡Œ â†’ å¹³åœ°æœ¨
  â”œâ”€ getDuty() â†’ Duty â†’ é—­
  â”œâ”€ getTwelveStar() â†’ TwelveStar â†’ å‰
  â””â”€ getTwentyEightStar() â†’ TwentyEightStar â†’ å®¤ç«çŒª
  â†“
è¿”å›: SixtyCycleDayInfo å¯¹è±¡
```

## ğŸ“ å­¦ä¹ è·¯å¾„

### åˆçº§ (5åˆ†é’Ÿ)
- é˜…è¯»: æœ¬æ–‡ä»¶ (é¡¹ç›®æ¦‚è§ˆ)
- å­¦ä¹ : åŸºæœ¬æ•°æ®ç»“æ„

### ä¸­çº§ (20åˆ†é’Ÿ)
- é˜…è¯»: `å¹²æ”¯çºªå¹´å†_tyme4j_å¿«é€Ÿå‚è€ƒ.md`
- å­¦ä¹ : å¦‚ä½•è°ƒç”¨å„ä¸ª tyme4j API
- ç»ƒä¹ : ä¿®æ”¹ç¤ºä¾‹ä»£ç 

### é«˜çº§ (1å°æ—¶)
- é˜…è¯»: `å¹²æ”¯çºªå¹´å†_tyme4j_å¼•ç”¨è¯´æ˜.md`
- å­¦ä¹ : tyme4j çš„å®Œæ•´åŠŸèƒ½
- å®è·µ: é›†æˆåˆ°ä½ çš„é¡¹ç›®ä¸­

## âœ… éªŒè¯æ¸…å•

- [x] tyme4j åº“å¼•å…¥
- [x] TymeCalendarUtils å·¥å…·ç±»å®ç°
- [x] EmperorCalendarService æœåŠ¡ç±»å®ç°
- [x] HomeController API ç«¯ç‚¹
- [x] ç¼–è¯‘æµ‹è¯•é€šè¿‡
- [x] åŠŸèƒ½å®Œæ•´æ€§éªŒè¯
- [x] æ–‡æ¡£å®Œå–„

## ğŸ”— å…³è”æ–‡ä»¶

- è¯¦ç»†å®ç°è¯´æ˜: `å¹²æ”¯çºªå¹´å†_tyme4j_å¼•ç”¨è¯´æ˜.md`
- å¿«é€Ÿå‚è€ƒæ‰‹å†Œ: `å¹²æ”¯çºªå¹´å†_tyme4j_å¿«é€Ÿå‚è€ƒ.md`
- å®Œæˆæ€»ç»“æŠ¥å‘Š: `å¹²æ”¯çºªå¹´å†å®ç°_å®Œæˆæ€»ç»“.md`

## ğŸ’¡ å¸¸è§é—®é¢˜

**Q: å¦‚ä½•è·å–ç‰¹å®šæ—¥æœŸçš„ç”Ÿè‚–?**
```java
SixtyCycleDay scday = new SixtyCycleDay(solarDay);
Zodiac zodiac = scday.getYear().getEarthBranch().getZodiac();
String animalSign = zodiac.getName();
```

**Q: å¦‚ä½•åˆ¤æ–­æŸå¤©æ˜¯å‰æ—¥?**
```java
String inauspicious = sixtyCycleDay.getTwelveStar().getName();
boolean isAuspicious = inauspicious.contains("å‰");
```

**Q: çº³éŸ³äº”è¡Œæœ‰ä»€ä¹ˆç”¨?**
- ç”¨äºå…«å­—å‘½ç†åˆ†æ
- äº”è¡Œç›¸ç”Ÿç›¸å…‹åˆ¤æ–­
- å‰å‡¶å®œå¿Œçš„è¾…åŠ©åˆ¤æ–­

**Q: å»ºé™¤åäºŒå€¼ç¥æœ‰ä»€ä¹ˆç”¨?**
- åˆ¤æ–­å½“å¤©æ˜¯å¦é€‚åˆè¿›è¡Œç‰¹å®šæ´»åŠ¨
- æ°‘ä¿—å‰å‡¶åˆ¤æ–­çš„é‡è¦å‚è€ƒ

## ğŸ“ ç›¸å…³èµ„æº

- tyme4j å®˜ç½‘: https://github.com/6tail/tyme4j
- é¡¹ç›®ä¸»ä»£ç : `/tyme4j-master/src/main/java/com/tyme/`
- å•å…ƒæµ‹è¯•: `/tyme4j-master/src/test/java/com/tyme/test/`

---

**æœ€åæ›´æ–°**: 2025-11-25 æ˜ŸæœŸäºŒ ä¹™å·³(è›‡)å¹´ ä¸äº¥æœˆ æˆŠæˆŒæ—¥  
**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸ  
**æ–‡æ¡£å®Œæ•´åº¦**: 100%  
**å¯ç”¨äºç”Ÿäº§**: âœ… æ˜¯
