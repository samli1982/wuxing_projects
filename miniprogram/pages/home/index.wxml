<view class="page">
  <view class="status-bar" style="height: {{statusBarHeight}}px;"></view>

  <scroll-view class="header" scroll-x="true" show-scrollbar="false">
    <view class="header-item">
      <text class="icon">â˜€ï¸</text>
      <text class="header-text">{{headerInfo.sunriseTime}}</text>
    </view>
    <view class="divider"></view>
    <view class="header-item">
      <text class="lunar">{{headerInfo.lunarDate}}</text>
    </view>
    <view class="divider"></view>
    <view class="header-item">
      <view class="tag" bindtap="onShowSolarTerm">{{headerInfo.solarTermName}} â€¢ ç¬¬{{headerInfo.solarTermDayIndex}}å¤©</view>
    </view>
    <view class="divider"></view>
    <view class="header-item clickable" bindtap="onShowSolarTerm">
      <text class="beidou">{{headerInfo.beidouDirection}}</text>
    </view>
  </scroll-view>

  <view class="card">
    <view class="card-year">
      <text>ã€{{wuyun.year}} {{wuyun.ganzhi}}ã€‘</text>
      <text class="nayin">çº³éŸ³ï¼š{{wuyun.nayin}}</text>
    </view>

    <view class="card-core">
      <view class="taichi">âšªï¸</view>
      <view class="labels">
        <view class="label"><text class="label-title">å¸å¤©ï¼š</text><text class="label-value">{{wuyun.sitian}}</text></view>
        <view class="label"><text class="label-title">åœ¨æ³‰ï¼š</text><text class="label-value">{{wuyun.zaiquan}}</text></view>
        <view class="flow">äº”è¡Œæµè½¬ï¼ˆé‡‘â†’æ°´â†’æœ¨â†’ç«â†’åœŸï¼‰</view>
      </view>
    </view>

    <view class="tips">
      <block wx:for="{{displayTips}}" wx:key="index">
        <view class="tip-item">
          <view class="dot"></view>
          <text class="tip-text">{{item}}</text>
        </view>
      </block>
      <view class="more" wx:if="{{wuyun.healthTips.length > 3}}">
        <text class="link" bindtap="toggleTips">{{showAllTips ? 'æ”¶èµ·' : 'å±•å¼€æ›´å¤š'}}</text>
      </view>
    </view>

    <view class="link-area">
      <text class="link" bindtap="goWuYunDetail">æŸ¥çœ‹ã€Šäº”è¿å…­æ°”è¯¦è§£ã€‹</text>
    </view>
  </view>

  <view class="actions">
    <button class="btn primary" bindtap="onCreatePalmtree">
      <text class="btn-icon">ğŸ–‹ï¸</text>
      <text class="btn-text">åˆ›å»ºæˆ‘çš„å‘½ç›˜</text>
    </button>
    <button class="btn secondary" bindtap="onViewPalmtree">
      <text class="btn-icon">ğŸ“</text>
      <text class="btn-text">{{hasPalmtree ? latestPalmtreeSummary : 'æš‚æœªåˆ›å»º'}}</text>
    </button>
  </view>

  <view class="health-banner" wx:if="{{healthTipVisible}}">
    <text class="health-icon">ğŸ’¡</text>
    <text class="health-text">{{healthTipText}}</text>
    <text class="close" bindtap="onCloseHealthTip">Ã—</text>
  </view>

  <view class="tabbar-placeholder"></view>
</view>
